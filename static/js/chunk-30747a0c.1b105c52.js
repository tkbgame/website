(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-30747a0c"],{"0715":function(t,e,a){t.exports=a.p+"static/img/124.f9903f11.jpg"},"07a7":function(t,e,a){t.exports=a.p+"static/img/108.feaefabf.jpg"},"0aeb":function(t,e,a){t.exports=a.p+"static/img/119.ab040203.jpg"},1728:function(t,e,a){t.exports=a.p+"static/img/135.a5b56730.jpg"},1743:function(t,e,a){t.exports=a.p+"static/img/106.22afae1f.jpg"},"1e98":function(t,e,a){t.exports=a.p+"static/img/130.7daf14f1.jpg"},2256:function(t,e,a){t.exports=a.p+"static/img/117.dfc2bdee.jpg"},2275:function(t,e,a){t.exports=a.p+"static/img/105.34f53c34.jpg"},"25f0":function(t,e,a){"use strict";var i=a("6eeb"),n=a("825a"),r=a("d039"),c=a("ad6d"),s="toString",o=RegExp.prototype,l=o[s],p=r((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),g=l.name!=s;(p||g)&&i(RegExp.prototype,s,(function(){var t=n(this),e=String(t.source),a=t.flags,i=String(void 0===a&&t instanceof RegExp&&!("flags"in o)?c.call(t):a);return"/"+e+"/"+i}),{unsafe:!0})},"2e3d":function(t,e,a){t.exports=a.p+"static/img/121.50fae6fb.jpg"},"35c5":function(t,e,a){t.exports=a.p+"static/img/118.ced71bd2.jpg"},"43f1":function(t,e,a){t.exports=a.p+"static/img/122.a31fc0c0.jpg"},"4c09":function(t,e,a){t.exports=a.p+"static/img/110.ec3ad85f.jpg"},"4d51":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",{staticClass:"app"},[a("el-col",{attrs:{md:12}},[a("article",{staticClass:"leaderboard"},[a("header",[a("svg",{staticClass:"leaderboard__icon",staticStyle:{"enable-background":"new 0 0 511.999 511.999"},attrs:{id:"Layer_1",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 511.999 511.999","xml:space":"preserve"}},[a("g",[a("g",[a("path",{attrs:{d:"M466.45,49.374c-7.065-8.308-17.368-13.071-28.267-13.071H402.41v-11.19C402.41,11.266,391.143,0,377.297,0H134.705\n\t\t\tc-13.848,0-25.112,11.266-25.112,25.112v11.19H73.816c-10.899,0-21.203,4.764-28.267,13.071\n\t\t\tc-6.992,8.221-10.014,19.019-8.289,29.624c9.4,57.8,45.775,108.863,97.4,136.872c4.717,11.341,10.059,22.083,16.008,32.091\n\t\t\tc19.002,31.975,42.625,54.073,68.627,64.76c2.635,26.644-15.094,51.885-41.794,57.9c-0.057,0.013-0.097,0.033-0.153,0.046\n\t\t\tc-5.211,1.245-9.09,5.921-9.09,11.513v54.363h-21.986c-19.602,0-35.549,15.947-35.549,35.549v28.058\n\t\t\tc0,6.545,5.305,11.85,11.85,11.85H390.56c6.545,0,11.85-5.305,11.85-11.85v-28.058c0-19.602-15.947-35.549-35.549-35.549h-21.988\n\t\t\tV382.18c0-5.603-3.893-10.286-9.118-11.52c-0.049-0.012-0.096-0.028-0.145-0.04c-26.902-6.055-44.664-31.55-41.752-58.394\n\t\t\tc25.548-10.86,48.757-32.761,67.479-64.264c5.949-10.009,11.29-20.752,16.008-32.095c51.622-28.01,87.995-79.072,97.395-136.87\n\t\t\tC476.465,68.392,473.443,57.595,466.45,49.374z M60.652,75.192c-0.616-3.787,0.431-7.504,2.949-10.466\n\t\t\tc2.555-3.004,6.277-4.726,10.214-4.726h35.777v21.802c0,34.186,4.363,67.3,12.632,97.583\n\t\t\tC89.728,153.706,67.354,116.403,60.652,75.192z M366.861,460.243c6.534,0,11.85,5.316,11.85,11.85v16.208H134.422v-16.208\n\t\t\tc0-6.534,5.316-11.85,11.85-11.85H366.861z M321.173,394.03v42.513H191.96V394.03H321.173z M223.037,370.331\n\t\t\tc2.929-3.224,5.607-6.719,8.002-10.46c7.897-12.339,12.042-26.357,12.228-40.674c4.209,0.573,8.457,0.88,12.741,0.88\n\t\t\tc4.661,0,9.279-0.358,13.852-1.036c0.27,19.239,7.758,37.45,20.349,51.289H223.037z M378.709,81.803\n\t\t\tc0,58.379-13.406,113.089-37.747,154.049c-23.192,39.03-53.364,60.525-84.956,60.525c-31.597,0-61.771-21.494-84.966-60.523\n\t\t\tc-24.342-40.961-37.748-95.671-37.748-154.049V25.112c0-0.78,0.634-1.413,1.412-1.413h242.591c0.78,0,1.414,0.634,1.414,1.413\n\t\t\tV81.803z M451.348,75.192c-6.702,41.208-29.074,78.51-61.569,104.191c8.268-30.283,12.631-63.395,12.631-97.58V60.001h35.773\n\t\t\tc3.938,0,7.66,1.723,10.214,4.726C450.915,67.688,451.963,71.405,451.348,75.192z"}})])]),a("g",[a("g",[a("path",{attrs:{d:"M327.941,121.658c-1.395-4.288-5.103-7.414-9.566-8.064l-35.758-5.196l-15.991-32.402\n\t\t\tc-1.997-4.044-6.116-6.605-10.626-6.605c-4.511,0-8.63,2.561-10.626,6.605l-15.991,32.402l-35.758,5.196\n\t\t\tc-4.464,0.648-8.172,3.775-9.566,8.065c-1.393,4.291-0.231,8.999,2.999,12.148l25.875,25.221l-6.109,35.613\n\t\t\tc-0.763,4.446,1.064,8.938,4.714,11.59c3.648,2.651,8.487,3,12.479,0.902L256,190.32l31.982,16.813\n\t\t\tc1.734,0.911,3.627,1.36,5.512,1.36c2.456,0,4.902-0.763,6.966-2.263c3.65-2.652,5.477-7.144,4.714-11.59l-6.109-35.613\n\t\t\tl25.875-25.221C328.172,130.658,329.334,125.949,327.941,121.658z M278.064,146.405c-2.793,2.722-4.068,6.644-3.408,10.489\n\t\t\tl3.102,18.09l-16.245-8.541c-1.725-0.908-3.62-1.36-5.514-1.36c-1.894,0-3.788,0.454-5.514,1.36l-16.245,8.541l3.102-18.09\n\t\t\tc0.66-3.844-0.615-7.766-3.408-10.489l-13.141-12.81l18.162-2.64c3.859-0.56,7.196-2.985,8.922-6.482l8.123-16.458l8.122,16.458\n\t\t\tc1.727,3.497,5.062,5.921,8.922,6.482l18.162,2.64L278.064,146.405z"}})])])]),a("div",{staticStyle:{float:"left"}},[a("el-tag",{attrs:{effect:"dark",type:"danger"}},[t._v(" #"+t._s(t.info.top)+" "+t._s(t.info.weight)+t._s(t.info.name))])],1),a("div",{staticStyle:{float:"right"}},[a("el-button-group",[a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-edit"},on:{click:t.showEditInfo}},[t._v("Info")]),a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-refresh"},on:{click:t.RefreshList}})],1)],1),a("h1",{staticClass:"leaderboard__title"},[a("span",{staticClass:"leaderboard__title--top"},[t._v("TOP10")]),a("span",{staticClass:"leaderboard__title--bottom"},[t._v("fighting")])])]),a("main",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"leaderboard__profiles"},t._l(t.list.slice(0,10),(function(e,i){return a("article",{key:i,staticClass:"leaderboard__profile"},[a("img",{staticClass:"leaderboard__picture",attrs:{src:t.idtoImage(e.avatar)}}),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"(#"+(i+1)+") "+e.address,placement:"top-start"}},[a("span",{staticClass:"leaderboard__name"},[t._v(t._s(e.nickName))])]),a("span",{staticClass:"leaderboard__value"},[t._v(t._s(Math.floor(e.weight/100)/10)),a("span",[t._v("K")])])],1)})),0)])]),a("el-dialog",{attrs:{title:"Set Info",visible:t.dialogEdit.visible,width:"350px"},on:{"update:visible":function(e){return t.$set(t.dialogEdit,"visible",e)}}},[a("el-popover",{attrs:{placement:"bottom",title:"Avatar",width:"350",trigger:"click"},model:{value:t.avatarvisible,callback:function(e){t.avatarvisible=e},expression:"avatarvisible"}},[t._l(t.avatars.slice(1),(function(e){return a("div",{key:e.image,staticClass:"avatarlist",on:{click:function(a){t.avatarvisible=!1,t.dialogEdit.avatar=e.id}}},[a("el-avatar",{attrs:{size:50,src:e.image}})],1)})),a("el-avatar",{attrs:{slot:"reference",size:64,src:t.idtoImage(t.dialogEdit.avatar)},slot:"reference"})],2),a("el-input",{attrs:{placeholder:"Input Your Name"},on:{input:function(e){t.dialogEdit.validate=t.checkName(t.dialogEdit.name)}},model:{value:t.dialogEdit.name,callback:function(e){t.$set(t.dialogEdit,"name",e)},expression:"dialogEdit.name"}}),!0!==t.dialogEdit.validate?a("span",[t._v(" "+t._s(t.dialogEdit.validate)+" ")]):t._e(),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(e){t.dialogEdit.visible=!1}}},[t._v("Close")]),a("el-button",{attrs:{size:"small",loading:t.dialogEdit.loading,disabled:!0!==t.dialogEdit.validate,type:"primary"},on:{click:t.setName}},[t._v("Set")])],1)],1)],1)},n=[],r=a("1da1"),c=(a("d3b7"),a("25f0"),a("b0c0"),a("fb6a"),a("a9e3"),a("7db0"),a("c740"),a("3ca3"),a("ddb0"),a("4e82"),a("159b"),a("d81d"),a("b680"),a("99af"),a("96cf"),a("6779")),s=a("e01c"),o=function(t){return t.keys().map(t)},l=o(s).map((function(t){var e=Number(t.slice(-16).slice(0,3));return{id:e,image:t}})),p={data:function(){return{avatars:l,avatarvisible:!0,info:{name:"",top:0,weight:"",avatar:0},list:[],loading:!0,dialogEdit:{loading:!1,visible:!1,validate:this.checkName(""),name:"",avatar:0}}},mounted:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.Wallet.connected?t.onconnect():t.Wallet.$on("connect",t.onconnect);case 1:case"end":return e.stop()}}),e)})))()},methods:{RefreshYourName:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.yourName="loading...",e.next=3,t.Wallet.game3.nickName(t.Wallet.account);case 3:a=e.sent,"0"!==a.toString()?(t.info.name=c["c"].parseBytes32String(a).slice(4),t.info.avatar=Number(c["c"].parseBytes32String(a).slice(0,4))):(t.info.avatar=0,t.info.name=t.SmallAddr(t.Wallet.account)),i=t.findtop(t.Wallet.account.toLowerCase()),t.info.top=i,t.info.weight=i>0?" (".concat(t.smallWeight(t.list[i-1].weight),") "):"";case 8:case"end":return e.stop()}}),e)})))()},idtoImage:function(t){try{return l.find((function(e){return e.id===t})).image}catch(e){return l.find((function(t){return 0===t.id})).image}},findtop:function(t){var e=this.list.findIndex((function(e){return e.address.toLowerCase()===t}));return e>0?e+1:0},onconnect:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=localStorage.getItem("ranking"),!a){e.next=6;break}t.list=JSON.parse(a),t.RefreshName(),e.next=8;break;case 6:return e.next=8,t.RefreshList();case 8:t.RefreshYourName();case 9:case"end":return e.stop()}}),e)})))()},RefreshList:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,i,n,r,c,s,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.list,t.list=[],t.loading=!0,e.prev=3,e.next=6,t.Wallet.game3.getTotalNFT();case 6:for(i=e.sent.toNumber(),n=[],r=200,c=0;c<i;c+=r)n.push(t.Wallet.game3.getNFT(c,r));return e.next=12,Promise.all(n);case 12:s=e.sent,o=s.reduce((function(e,a){return a.addrs.forEach((function(i,n){var r=e.findIndex((function(t){return t.address===i}));r>-1?e[r].weight+=a.weights[n]:e.push({address:i,weight:a.weights[n],nickName:t.SmallAddr(i),avatar:0})})),e}),[]).sort((function(t,e){return e.weight-t.weight})),localStorage.setItem("ranking",JSON.stringify(o)),localStorage.setItem("rankingTime",(new Date).getTime()),t.RefreshYourName(),t.list=o,e.next=23;break;case 20:e.prev=20,e.t0=e["catch"](3),t.list=a;case 23:t.RefreshName();case 24:case"end":return e.stop()}}),e,null,[[3,20]])})))()},RefreshName:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.list.slice(0,10).map((function(t){return t.address})),e.next=3,t.Wallet.game3.getManyNickName(a);case 3:i=e.sent,t.list.slice(0,10).forEach((function(t,e){if("0"!==i[e].toString()){var a=c["c"].parseBytes32String(i[e]);t.avatar=Number(a.slice(0,4)),t.nickName=a.slice(4)}})),t.loading=!1;case 6:case"end":return e.stop()}}),e)})))()},SmallAddr:function(t){return t=t.toLowerCase(),t.substr(0,4)+".."+t.substr(38)},smallWeight:function(t){return t>1e3?(t/1e3).toFixed(2)+"K":t},checkName:function(t){try{return""===t?"Empty Name":(c["c"].formatBytes32String("0000".concat(t)),!0)}catch(e){return"Max 27 Byte"}},showEditInfo:function(){this.dialogEdit.visible=!0,this.dialogEdit.avatar=this.info.avatar,this.dialogEdit.name=this.info.name,this.dialogEdit.validate=this.checkName(this.info.name)},getAvatarCode:function(t){return 0===t?"0000":"0".concat(t)},setName:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.dialogEdit.loading=!0,a="".concat(t.getAvatarCode(t.dialogEdit.avatar)).concat(t.dialogEdit.name),e.prev=2,e.next=5,t.Wallet.game3.setnickName(c["c"].formatBytes32String(a));case 5:return i=e.sent,e.next=8,i.wait();case 8:t.dialogEdit.visible=!1,t.RefreshList();case 10:return e.prev=10,t.dialogEdit.loading=!1,e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[2,,10,13]])})))()}}},g=p,u=(a("ef93"),a("2877")),d=Object(u["a"])(g,i,n,!1,null,"69be969a",null);e["default"]=d.exports},"4e82":function(t,e,a){"use strict";var i=a("23e7"),n=a("1c0b"),r=a("7b0b"),c=a("d039"),s=a("a640"),o=[],l=o.sort,p=c((function(){o.sort(void 0)})),g=c((function(){o.sort(null)})),u=s("sort"),d=p||!g||!u;i({target:"Array",proto:!0,forced:d},{sort:function(t){return void 0===t?l.call(r(this)):l.call(r(this),n(t))}})},"4f29":function(t,e,a){t.exports=a.p+"static/img/131.0cef893b.jpg"},"5b20":function(t,e,a){t.exports=a.p+"static/img/127.6457c29b.jpg"},"6a48":function(t,e,a){t.exports=a.p+"static/img/104.b504b3aa.jpg"},80760:function(t,e,a){t.exports=a.p+"static/img/112.9cc106ce.jpg"},"842e":function(t,e,a){t.exports=a.p+"static/img/114.4a1f988a.jpg"},"84e5":function(t,e,a){t.exports=a.p+"static/img/129.d17eb6db.jpg"},"90e3b":function(t,e,a){t.exports=a.p+"static/img/123.c8ff6683.jpg"},"970e":function(t,e,a){t.exports=a.p+"static/img/116.43ea75d2.jpg"},9856:function(t,e,a){t.exports=a.p+"static/img/133.db0a4488.jpg"},"9aae":function(t,e,a){t.exports=a.p+"static/img/126.d2083873.jpg"},"9c4a":function(t,e,a){t.exports=a.p+"static/img/113.cc16afd2.jpg"},a75d:function(t,e,a){},a869:function(t,e,a){t.exports=a.p+"static/img/115.8ce9579d.jpg"},a936:function(t,e,a){t.exports=a.p+"static/img/101.c22db850.jpg"},ad6d:function(t,e,a){"use strict";var i=a("825a");t.exports=function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},ae5f:function(t,e,a){t.exports=a.p+"static/img/120.b6936f8c.jpg"},b383:function(t,e,a){t.exports=a.p+"static/img/109.fb65907b.jpg"},b63f:function(t,e,a){t.exports=a.p+"static/img/134.117cf54f.jpg"},beb9:function(t,e,a){t.exports=a.p+"static/img/000.37c3ea6b.jpg"},c51d:function(t,e,a){t.exports=a.p+"static/img/136.7f7db8c6.jpg"},c740:function(t,e,a){"use strict";var i=a("23e7"),n=a("b727").findIndex,r=a("44d2"),c=a("ae40"),s="findIndex",o=!0,l=c(s);s in[]&&Array(1)[s]((function(){o=!1})),i({target:"Array",proto:!0,forced:o||!l},{findIndex:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),r(s)},c777:function(t,e,a){t.exports=a.p+"static/img/111.95a66261.jpg"},c82a:function(t,e,a){t.exports=a.p+"static/img/125.449915a7.jpg"},cb04:function(t,e,a){t.exports=a.p+"static/img/107.3b8eb1be.jpg"},d7c4:function(t,e,a){t.exports=a.p+"static/img/128.143fa795.jpg"},df66:function(t,e,a){t.exports=a.p+"static/img/102.f1a33db6.jpg"},e01c:function(t,e,a){var i={"./000.jpg":"beb9","./101.jpg":"a936","./102.jpg":"df66","./103.jpg":"e358","./104.jpg":"6a48","./105.jpg":"2275","./106.jpg":"1743","./107.jpg":"cb04","./108.jpg":"07a7","./109.jpg":"b383","./110.jpg":"4c09","./111.jpg":"c777","./112.jpg":"80760","./113.jpg":"9c4a","./114.jpg":"842e","./115.jpg":"a869","./116.jpg":"970e","./117.jpg":"2256","./118.jpg":"35c5","./119.jpg":"0aeb","./120.jpg":"ae5f","./121.jpg":"2e3d","./122.jpg":"43f1","./123.jpg":"90e3b","./124.jpg":"0715","./125.jpg":"c82a","./126.jpg":"9aae","./127.jpg":"5b20","./128.jpg":"d7c4","./129.jpg":"84e5","./130.jpg":"1e98","./131.jpg":"4f29","./132.jpg":"f1a8","./133.jpg":"9856","./134.jpg":"b63f","./135.jpg":"1728","./136.jpg":"c51d"};function n(t){var e=r(t);return a(e)}function r(t){if(!a.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}n.keys=function(){return Object.keys(i)},n.resolve=r,t.exports=n,n.id="e01c"},e358:function(t,e,a){t.exports=a.p+"static/img/103.492de68c.jpg"},ef93:function(t,e,a){"use strict";a("a75d")},f1a8:function(t,e,a){t.exports=a.p+"static/img/132.3cb109b6.jpg"}}]);