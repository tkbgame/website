(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2811fa33"],{"0373":function(e,t,n){e.exports=n.p+"static/img/330-吕蒙-Lv Meng.9f512f35.png"},"0662":function(e,t,n){e.exports=n.p+"static/img/240-袁术-Yuan Shu.0e92d2cb.png"},"09dc":function(e,t,n){e.exports=n.p+"static/img/140-公孙赞-Gong SunZan.9756bf97.png"},"10ef":function(e,t,n){e.exports=n.p+"static/img/520-刘备-Liu Bei.0ceec5fc.png"},"12ed":function(e,t,n){e.exports=n.p+"static/img/p6.45c13702.png"},1558:function(e,t,n){},"25f2":function(e,t,n){e.exports=n.p+"static/img/231-黄盖-Huang Gai.0e461ba0.png"},"26b9":function(e,t,n){},"2a3c":function(e,t,n){e.exports=n.p+"static/img/630-陆逊-Lu Xun.5ebf8b29.png"},"31d8":function(e,t,n){e.exports=n.p+"static/img/320-张飞-Zhang Fei.d75fe2d0.png"},"34ef":function(e,t,n){"use strict";n("bf74")},"35c8":function(e,t,n){e.exports=n.p+"static/img/412-郭嘉-Guo Jia.72ea93c4.png"},"364d":function(e,t,n){e.exports=n.p+"static/img/440-潘凤-Pan Feng.9d44b052.png"},"3b8f":function(e,t,n){var a={"./110-蔡文姬-Cai WenJi.png":"3e48","./120-孙尚香-Sun ShangXiang.png":"66a1","./130-丁奉-Ding Feng.png":"a183","./140-公孙赞-Gong SunZan.png":"09dc","./210-李典-Li Dian.png":"77c6","./220-姜维-Jiang Wei.png":"d412","./230-徐盛-Xu Sheng.png":"712d","./231-黄盖-Huang Gai.png":"25f2","./240-袁术-Yuan Shu.png":"0662","./310-乐进-Le Jin.png":"684d","./320-张飞-Zhang Fei.png":"31d8","./321-魏延-Wei Yan.png":"4a2c","./330-吕蒙-Lv Meng.png":"0373","./340-袁绍-Yuan Shao.png":"a6cd","./410-司马懿-Si MaYi.png":"802b","./412-郭嘉-Guo Jia.png":"35c8","./420-赵云-Zhao Yun.png":"9484","./421-孔明-Zhu GeLiang.png":"9522","./430-周瑜-Zhou Yu.png":"8832","./440-潘凤-Pan Feng.png":"364d","./510-曹操-Cao Cao.png":"de5f","./520-刘备-Liu Bei.png":"10ef","./530-孙权-Sun Quan.png":"b00a","./540-董卓-Dong Zhuo.png":"4ada","./610-贾诩-Jia Xu.png":"d853","./620-关羽-Guan Yu.png":"a6cf","./630-陆逊-Lu Xun.png":"2a3c","./640-吕布-Lv Bu.png":"ece9"};function i(e){var t=r(e);return n(t)}function r(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}i.keys=function(){return Object.keys(a)},i.resolve=r,e.exports=i,i.id="3b8f"},"3e48":function(e,t,n){e.exports=n.p+"static/img/110-蔡文姬-Cai WenJi.d9053fed.png"},4761:function(e,t,n){e.exports=n.p+"static/img/p4.41e50819.png"},"4a2c":function(e,t,n){e.exports=n.p+"static/img/321-魏延-Wei Yan.b23daefc.png"},"4ada":function(e,t,n){e.exports=n.p+"static/img/540-董卓-Dong Zhuo.bd65bc57.png"},6384:function(e,t,n){e.exports=n.p+"static/img/p2.705ef741.png"},"64e7":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("img",{staticClass:"apphead",attrs:{src:n("cdf4")}}),a("div",{directives:[{name:"loading",rawName:"v-loading",value:!1,expression:"false"}],staticStyle:{"margin-top":"10px"}},[a("el-row",{attrs:{gutter:20}},e._l(e.pools,(function(t){return a("el-col",{key:t.name,staticStyle:{"margin-bottom":"20px"},attrs:{md:8,sm:12}},[a("el-card",{staticClass:"shopitem",attrs:{"body-style":{padding:"0px"}}},[a("img",{staticStyle:{width:"100%"},attrs:{src:t.image}}),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{padding:"10px"}},[a("el-descriptions",{attrs:{direction:"vertical",border:""}},[a("el-descriptions-item",{attrs:{label:"Deposit"}},[e._v(e._s(e.getlevelstr(t)))]),a("el-descriptions-item",{attrs:{label:"APY"}},[e._v(e._s(e.getAPY(t))+"%")]),a("el-descriptions-item",{attrs:{label:"Earn"}},[a("div",{class:t.rarncalss},[e._v(e._s(t.earna.toFixed(2))+" TKB")])]),a("el-descriptions-item",{attrs:{label:"heroNum"}},[e._v(e._s(t.heroNum))]),a("el-descriptions-item",{attrs:{label:"Pool Total"}},[e._v(e._s(t.heroTotal))]),a("el-descriptions-item",{attrs:{label:"Pool proportion"}},[e._v(e._s((t.gradeTotal/e.gradeTotal*100).toFixed(2))+"%")]),a("el-descriptions-item",{attrs:{label:"Operate",span:3}},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(n){return e.showdialogHeros(t,"Enter")}}},[e._v("Enter")]),a("el-button",{attrs:{size:"small",type:"warning"},on:{click:function(n){return e.showdialogHeros(t,"Leave")}}},[e._v("Leave")]),a("el-button",{staticStyle:{float:"right"},attrs:{size:"small",type:"info"}},[e._v("Info")])],1)],1)],1)])],1)})),1)],1),a("el-dialog",{staticClass:"dialogherolist",attrs:{top:"20px",title:e.dialogHeros.model+" Farming",visible:e.dialogHeros.visible,fullscreen:e.window.innerWidth<700,width:"70%"},on:{"update:visible":function(t){return e.$set(e.dialogHeros,"visible",t)}}},[a("HeroList",{model:{value:e.dialogHeros.HeroList,callback:function(t){e.$set(e.dialogHeros,"HeroList",t)},expression:"dialogHeros.HeroList"}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-checkbox",{staticStyle:{float:"left"},on:{change:e.Allchange},model:{value:e.isall,callback:function(t){e.isall=t},expression:"isall"}},[e._v("All")]),a("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogHeros.visible=!1}}},[e._v("Close")]),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.HeroListchange}},[e._v("Ok")])],1)],1)],1)},i=[],r=n("5530"),o=n("1da1"),s=(n("96cf"),n("159b"),n("7db0"),n("d81d"),n("a9e3"),n("d3b7"),n("3ca3"),n("ddb0"),n("4de4"),n("b680"),n("fb6a"),n("7e6c")),c=function(e){return e.keys().map(e)},l=c(s).map((function(e){var t=Number(e.slice(-14).slice(0,1));return{id:t,image:e}})),u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-row",{attrs:{gutter:10}},e._l(e.heros,(function(t){return n("el-col",{key:t.id.toNumber(),attrs:{md:4,sm:12,xs:12}},[n("el-card",{attrs:{"body-style":"padding:10px;position: relative;"},nativeOn:{click:function(e){t.enable=!t.enable}}},[n("img",{staticStyle:{width:"100%"},attrs:{src:e.getimg(t)}}),t.enable?n("div",{staticClass:"fullbg"}):e._e(),t.enable?n("el-result",{staticStyle:{width:"20%",height:"20%",position:"absolute",right:"0",bottom:"0","z-index":"2"},attrs:{icon:"success"}}):e._e()],1),n("div",{staticClass:"shopitem-content"},[n("el-row",[n("el-col",[n("span",[e._v("Name : "+e._s(e.getname(t)))])]),n("el-col",{attrs:{span:12}},[n("span",[e._v("ID : "+e._s(t.id))])]),n("el-col",{staticStyle:{"text-align":"right"},attrs:{span:12}},[n("span",[e._v("Level : "+e._s(t.exp.toNumber()>=201600?"Max":Math.floor(t.exp.toNumber()/28800)))])]),n("el-col",{staticStyle:{"margin-bottom":"5px"}},[n("el-progress",{staticStyle:{"-webkit-text-fill-color":"#c0392b"},attrs:{"text-inside":!0,"stroke-width":16,percentage:t.expProgress,status:t.exp.toNumber()>=201600?"exception":"success"}})],1)],1)],1)],1)})),1)},p=[],g=(n("b0c0"),n("99af"),n("b305")),f={components:{},model:{prop:"heros",event:"change"},props:{heros:{type:Array,default:function(){return[{id:0,level:0,exp:0,enable:!1}]}}},methods:{getimg:function(e){return this.HeroInfoIs(e).image},getname:function(e){return this.HeroInfoIs(e).name},HeroInfoIs:function(e){var t=g["a"].find((function(t){return t.id==="".concat(e.level).concat(e.camp).concat(e.heroNum)}));return t||(e.heroNum=0,g["a"].find((function(t){return t.id==="".concat(e.level).concat(e.camp).concat(e.heroNum)})))}}},d=f,m=(n("34ef"),n("2877")),h=Object(m["a"])(d,u,p,!1,null,"3a066c47",null),b=h.exports,v=n("cffa"),x={components:{HeroList:b},data:function(){return{isall:!1,poolImages:l,window:window,loading:!0,heroTotal:0,gradeTotal:0,pools:[],inventorys:[],farmPrice:0,dialogHeros:{loading:!1,visible:!1,HeroList:[],model:"enter"},weights:[],updateInterval:null}},watch:{pools:{handler:function(e,t){e.forEach((function(e,t){e.earna!==e.earn&&"update"!==e.rarncalss&&(v["a"].to(e,{duration:1,earna:e.earn}),e.rarncalss="update",setTimeout((function(){e.rarncalss=""}),1500))}))}},deep:!0},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.Wallet.connected?(e.initPool(),e.RefreshAllPool()):e.Wallet.$on("connect",e.onconnect),e.updateInterval=setInterval(e.updateIntervalChange,6e3);case 2:case"end":return t.stop()}}),t)})))()},beforeDestroy:function(){clearInterval(this.updateInterval)},methods:{onconnect:function(){this.Wallet.$off("connect",this.onconnect),this.initPool(),this.RefreshAllPool()},initPool:function(){var e=this;this.pools=[];for(var t=function(t){var n=t+1,a=l.find((function(e){return e.id===n})).image,i={id:n,image:a,heroNum:0,apy:0,heroTotal:0,gradeTotal:0,earn:0,earna:0,earnclass:"",weights:0,rarncalss:"",loading:!1};e.Wallet.game.weights(n).then((function(e){i.weights=e.toNumber()})),e.pools.push(i)},n=0;n<6;n++)t(n)},RefreshHeros:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.Wallet.game.GetInventoryTokenIds();case 2:return n=t.sent,e.tokenIds=n.map((function(e){return e.toNumber()})),t.next=6,e.Wallet.game.getHeros(e.tokenIds);case 6:return a=t.sent,t.t0=e.Wallet.utils,t.next=10,e.Wallet.game.farmPrice();case 10:t.t1=t.sent,e.farmPrice=t.t0.formatEther.call(t.t0,t.t1),e.inventorys=a.map((function(e){return Object(r["a"])({enable:Number(e.farmBlock)>0},e)}));case 13:case"end":return t.stop()}}),t)})))()},RefreshAllPool:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.Wallet.game.totalFarmWeight();case 3:return n=t.sent,a=n.total,i=n.num,e.gradeTotal=a.toNumber(),e.heroTotal=i.toNumber(),t.next=10,Promise.all([e.RefreshHeros()]);case 10:return t.next=12,e.updateIntervalChange();case 12:e.loading=!1;case 13:case"end":return t.stop()}}),t)})))()},getlevelstr:function(e){switch(Number(e.id)){case 1:return"C";case 2:return"B";case 3:return"A";case 4:return"S";case 5:return"SR";default:return"SSR"}},showdialogHeros:function(e,t){var n=this;if("Leave"!==t){this.isall=!1,this.dialogHeros.model=t,this.dialogHeros.HeroList=[];var a=this.inventorys.filter((function(n){return Number(n.level)===e.id&&("Enter"===t&&!n.enable||"Leave"===t&&n.enable)})).map((function(e){return Object(r["a"])({},e)}));a.forEach((function(e){e.enable=!1})),a.length>0?(this.dialogHeros.visible=!0,this.$nextTick((function(){n.dialogHeros.HeroList=a}))):this.$message.warning("No more heroes")}else this.$message.error("There is a bug in this function, which leads to the extremely high gas. We are speeding up the repair")},HeroListchange:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,a,i,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.dialogHeros.visible=!1,e.loading=!0,t.prev=2,t.t0=e.dialogHeros.model,t.next="Enter"===t.t0?6:"Leave"===t.t0?14:23;break;case 6:if(n=e.dialogHeros.HeroList.filter((function(e){return e.enable})).map((function(e){return Number(e.id)})),!(n.length>0)){t.next=13;break}return t.next=10,e.Wallet.game.manyEnterFarm(n);case 10:return a=t.sent,t.next=13,a.wait();case 13:return t.abrupt("break",23);case 14:if(i=e.dialogHeros.HeroList.filter((function(e){return e.enable})).map((function(e){return Number(e.id)})),!(i.length>0)){t.next=22;break}return t.next=18,e.Wallet.game.manyLeaveFarm(i);case 18:return r=t.sent,t.next=21,r.wait();case 21:e.Wallet.RefreshBalance();case 22:return t.abrupt("break",23);case 23:return t.next=25,e.RefreshAllPool();case 25:t.next=30;break;case 27:t.prev=27,t.t1=t["catch"](2),e.loading=!1;case 30:case"end":return t.stop()}}),t,null,[[2,27]])})))()},updateIntervalChange:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.inventorys.filter((function(e){return e.enable})).map((function(e){return{id:e.id,level:Number(e.level)}})),e.pools.forEach((function(t,a){if(t.heroNum=n.filter((function(e){return e.level===t.id})).length,e.Wallet.game.GetFarmlevelInfo(t.id).then((function(e){t.gradeTotal=e[0].toNumber(),t.heroTotal=e[1].toNumber()})),t.heroNum>0){var i=n.filter((function(e){return e.level===t.id})).map((function(e){return e.id}));e.Wallet.game.GetFarmIncomeTotal(i).then((function(n){t.earn=Number(Number(e.Wallet.utils.formatEther(n)).toFixed(2)),e.$set(e.pools,a,t)}))}}));case 2:case"end":return t.stop()}}),t)})))()},Allchange:function(e){this.dialogHeros.HeroList.forEach((function(t){t.enable=e}))},getAPY:function(e){if(e.weights>0&&this.gradeTotal){var t=7*e.weights/this.gradeTotal*Number(this.farmPrice);return Math.floor(28800*t*365/4e3*100)}return"0"}}},w=x,y=(n("d984"),n("6f09"),Object(m["a"])(w,a,i,!1,null,"70413f2b",null));t["default"]=y.exports},"66a1":function(e,t,n){e.exports=n.p+"static/img/120-孙尚香-Sun ShangXiang.8dc69480.png"},"684d":function(e,t,n){e.exports=n.p+"static/img/310-乐进-Le Jin.2e9a2041.png"},"6f09":function(e,t,n){"use strict";n("26b9")},"712d":function(e,t,n){e.exports=n.p+"static/img/230-徐盛-Xu Sheng.bbfb3ecb.png"},"77c6":function(e,t,n){e.exports=n.p+"static/img/210-李典-Li Dian.71559efd.png"},"7e6c":function(e,t,n){var a={"./p1.png":"a38b","./p2.png":"6384","./p3.png":"a383","./p4.png":"4761","./p5.png":"b20e","./p6.png":"12ed"};function i(e){var t=r(e);return n(t)}function r(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}i.keys=function(){return Object.keys(a)},i.resolve=r,e.exports=i,i.id="7e6c"},"802b":function(e,t,n){e.exports=n.p+"static/img/410-司马懿-Si MaYi.0aaa8a24.png"},8832:function(e,t,n){e.exports=n.p+"static/img/430-周瑜-Zhou Yu.2dda1c2b.png"},9484:function(e,t,n){e.exports=n.p+"static/img/420-赵云-Zhao Yun.cfa4b64a.png"},9522:function(e,t,n){e.exports=n.p+"static/img/421-孔明-Zhu GeLiang.a19f648e.png"},a183:function(e,t,n){e.exports=n.p+"static/img/130-丁奉-Ding Feng.4dddcabb.png"},a383:function(e,t,n){e.exports=n.p+"static/img/p3.3f802f12.png"},a38b:function(e,t,n){e.exports=n.p+"static/img/p1.fce25425.png"},a6cd:function(e,t,n){e.exports=n.p+"static/img/340-袁绍-Yuan Shao.5c91ad64.png"},a6cf:function(e,t,n){e.exports=n.p+"static/img/620-关羽-Guan Yu.bbb5e717.png"},b00a:function(e,t,n){e.exports=n.p+"static/img/530-孙权-Sun Quan.22d55c25.png"},b20e:function(e,t,n){e.exports=n.p+"static/img/p5.db4b5aa5.png"},b305:function(e,t,n){"use strict";var a=n("5530"),i=(n("d81d"),n("d3b7"),n("ddb0"),n("fb6a"),n("ac1f"),n("1276"),n("3b8f")),r=function(e){return e.keys().map(e)};t["a"]=r(i).map((function(e){var t=e.slice(12).slice(0,-13),n=t.split("-"),i={id:n[0].slice(-3),namecn:n[1],name:n.length>2?n[2]:n[1]};return Object(a["a"])({image:e},i)}))},bf74:function(e,t,n){},cdf4:function(e,t,n){e.exports=n.p+"static/img/apphead.47571b2f.gif"},d412:function(e,t,n){e.exports=n.p+"static/img/220-姜维-Jiang Wei.ed85226b.png"},d853:function(e,t,n){e.exports=n.p+"static/img/610-贾诩-Jia Xu.a0032bb2.png"},d984:function(e,t,n){"use strict";n("1558")},de5f:function(e,t,n){e.exports=n.p+"static/img/510-曹操-Cao Cao.5a226a9f.png"},ece9:function(e,t,n){e.exports=n.p+"static/img/640-吕布-Lv Bu.3edfb0cb.png"}}]);